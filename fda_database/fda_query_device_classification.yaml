name: fda_query_device_classification
description: |
  Query the FDA device classification database.
  Access medical device categories, risk classifications, and regulatory
  requirements. Devices are classified based on risk level and intended use.
  
  Device Classes:
  - Class I: Low risk, general controls (e.g., bandages, tongue depressors)
  - Class II: Moderate risk, special controls (e.g., powered wheelchairs)
  - Class III: High risk, premarket approval required (e.g., pacemakers)
  
  API Endpoint: https://api.fda.gov/device/classification.json
  
  Key data fields returned:
  - product_code: Three-letter FDA product code
  - device_name: Name of device type
  - device_class: Risk classification (1, 2, or 3)
  - medical_specialty_description: Medical specialty area
  - regulation_number: CFR regulation reference
  - submission_type_id: Required submission type (510k, PMA, etc.)
  - gmp_exempt_flag: Whether exempt from GMP requirements
  - definition: Device type definition

required_parameters:
  - name: product_code
    type: string
    description: "Three-letter FDA product code (e.g., 'DQY', 'LWS')"

optional_parameters:
  - name: device_name
    type: string
    description: "Search by device name instead of product code"
  - name: device_class
    type: integer
    description: "Filter by device class (1, 2, or 3)"
  - name: medical_specialty
    type: string
    description: "Filter by medical specialty"
  - name: limit
    type: integer
    description: "Maximum number of results to return"
    default: 100
  - name: api_key
    type: string
    description: "FDA API key for higher rate limits"

hardware_requirements:
  - "Internet connection required"
  - "No GPU required"
  - "Minimal RAM (< 1GB)"

time_complexity: "O(1) - API response typically < 5 seconds"

outputs:
  - name: results
    type: list
    description: "Array of device classification records"
  - name: device_class
    type: integer
    description: "Risk classification level"
  - name: regulation_number
    type: string
    description: "CFR regulation reference"

failure_modes:
  - condition: "Invalid product code"
    behavior: "Returns empty results"
  - condition: "Product code not found"
    behavior: "No results returned"

example_usage: |
  from scripts.fda_query import FDAQuery
  
  fda = FDAQuery(api_key="YOUR_API_KEY")
  
  # Look up classification by product code
  classification = fda.query_device_classification("DQY")
  
  # Search by device name
  pumps = fda.query("device", "classification",
                   search="device_name:*insulin+pump*")
  
  # Get all Class III devices
  high_risk = fda.query("device", "classification",
                       search="device_class:3",
                       limit=1000)
  
  # Check regulatory requirements
  device = classification["results"][0]
  print(f"Class: {device['device_class']}")
  print(f"Submission Type: {device['submission_type_id']}")
