name: fda_query_substance_by_unii
description: |
  Query FDA substance data by UNII (Unique Ingredient Identifier) code.
  Access chemical and biological substance information from FDA's Global
  Substance Registration System (GSRS). UNII provides unique identifiers
  for substances in regulatory documents.
  
  API Endpoint: https://api.fda.gov/other/substance.json
  
  Key data fields returned:
  - approvalID: UNII code
  - names: Array of substance names
  - codes: Array of identifier codes (CAS, etc.)
  - relationships: Related substances
  - moieties: Chemical moieties
  - structure: Chemical structure information
  - molecularFormula: Molecular formula
  - stereochemistry: Stereochemistry information
  - protein: Protein information (if applicable)
  - nucleicAcid: Nucleic acid information (if applicable)
  - polymer: Polymer information (if applicable)

required_parameters:
  - name: unii
    type: string
    description: "UNII (Unique Ingredient Identifier) code"

optional_parameters:
  - name: api_key
    type: string
    description: "FDA API key for higher rate limits"

hardware_requirements:
  - "Internet connection required"
  - "No GPU required"
  - "Minimal RAM (< 1GB)"

time_complexity: "O(1) - API response typically < 5 seconds"

outputs:
  - name: results
    type: list
    description: "Array of substance records"
  - name: approvalID
    type: string
    description: "UNII code"
  - name: names
    type: list
    description: "Array of substance names"
  - name: molecularFormula
    type: string
    description: "Chemical molecular formula"

failure_modes:
  - condition: "Invalid UNII code"
    behavior: "Returns empty results"
  - condition: "UNII not found"
    behavior: "No results returned"

example_usage: |
  from scripts.fda_query import FDAQuery
  
  fda = FDAQuery(api_key="YOUR_API_KEY")
  
  # Look up substance by UNII
  substance = fda.query_substance_by_unii("R16CO5Y76E")  # Ibuprofen
  
  # Extract substance information
  if "results" in substance:
      sub = substance["results"][0]
      print(f"UNII: {sub['approvalID']}")
      print(f"Names: {', '.join([n['name'] for n in sub.get('names', [])])}")
      print(f"Formula: {sub.get('molecularFormula', 'N/A')}")
