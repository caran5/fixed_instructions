name: fda_query_drug_ndc
description: |
  Query the National Drug Code (NDC) Directory from FDA.
  Access drug product information identified by National Drug Codes including
  manufacturer, dosage form, route of administration, active ingredients,
  and marketing information. The NDC is a unique 10-digit identifier for drugs.
  
  API Endpoint: https://api.fda.gov/drug/ndc.json
  
  Key data fields returned:
  - product_ndc: 10-digit NDC product identifier
  - generic_name: Generic drug name
  - labeler_name: Company that manufactures/distributes
  - brand_name: Brand name if applicable
  - dosage_form: Form (tablet, capsule, solution, etc.)
  - route: Administration route (oral, injection, topical, etc.)
  - product_type: Type of drug product
  - marketing_category: Regulatory pathway (NDA, ANDA, OTC, etc.)
  - application_number: FDA application number
  - active_ingredients: List of active ingredients with strengths

required_parameters:
  - name: ndc
    type: string
    description: "National Drug Code (10-digit identifier)"
    required_if: "manufacturer not provided"
  - name: manufacturer
    type: string
    description: "Manufacturer/labeler name to search"
    required_if: "ndc not provided"

optional_parameters:
  - name: limit
    type: integer
    description: "Maximum number of results to return"
    default: 100
  - name: api_key
    type: string
    description: "FDA API key for higher rate limits"

hardware_requirements:
  - "Internet connection required"
  - "No GPU required"
  - "Minimal RAM (< 1GB)"

time_complexity: "O(1) - API response typically < 5 seconds"

outputs:
  - name: results
    type: list
    description: "Array of NDC records matching the search"
  - name: product_ndc
    type: string
    description: "10-digit NDC identifier"
  - name: active_ingredients
    type: list
    description: "List of active ingredients with strengths"

failure_modes:
  - condition: "Invalid NDC format"
    behavior: "Returns empty results"
  - condition: "Neither ndc nor manufacturer provided"
    behavior: "Raises ValueError"

example_usage: |
  from scripts.fda_query import FDAQuery
  
  fda = FDAQuery(api_key="YOUR_API_KEY")
  
  # Look up by NDC
  product = fda.query_drug_ndc(ndc="0069-3060-30")
  
  # Search by manufacturer
  products = fda.query_drug_ndc(manufacturer="Pfizer")
  
  # Extract product information
  for product in products["results"]:
      print(f"{product['brand_name']}: {product['dosage_form']}")
      for ingredient in product.get("active_ingredients", []):
          print(f"  - {ingredient['name']}: {ingredient['strength']}")
