name: fda_query_drugs_at_fda
description: |
  Query the Drugs@FDA database for comprehensive FDA-approved drug information.
  Access historical approval data, regulatory submissions, and approval history
  for drugs approved since 1939. Useful for regulatory research, approval pathway
  analysis, and drug development timeline studies.
  
  API Endpoint: https://api.fda.gov/drug/drugsfda.json
  
  Key data fields returned:
  - application_number: NDA/ANDA/BLA number
  - sponsor_name: Company that submitted application
  - openfda.brand_name: Brand name(s)
  - openfda.generic_name: Generic name(s)
  - products: Array of approved products under this application
  - products.active_ingredients: Active ingredients with strengths
  - products.dosage_form: Dosage form
  - products.route: Route of administration
  - products.marketing_status: Current marketing status
  - submissions: Array of regulatory submissions
  - submissions.submission_type: Type (Original, Supplement, etc.)
  - submissions.submission_status: Status of submission

required_parameters:
  - name: search_query
    type: string
    description: "Search query (e.g., brand name, sponsor name, application number)"

optional_parameters:
  - name: search_field
    type: string
    description: "Field to search in (e.g., 'openfda.brand_name', 'sponsor_name')"
    default: "openfda.brand_name"
  - name: limit
    type: integer
    description: "Maximum number of results to return"
    default: 100
  - name: api_key
    type: string
    description: "FDA API key for higher rate limits"

hardware_requirements:
  - "Internet connection required"
  - "No GPU required"
  - "Minimal RAM (< 1GB)"

time_complexity: "O(1) - API response typically < 5 seconds"

outputs:
  - name: results
    type: list
    description: "Array of drug application records"
  - name: application_number
    type: string
    description: "FDA application number (NDA/ANDA/BLA)"
  - name: submissions
    type: list
    description: "History of regulatory submissions"

failure_modes:
  - condition: "Drug not in database"
    behavior: "Returns empty results"
  - condition: "Invalid application number format"
    behavior: "No results returned"

example_usage: |
  from scripts.fda_query import FDAQuery
  
  fda = FDAQuery(api_key="YOUR_API_KEY")
  
  # Search by brand name
  drug_info = fda.query("drug", "drugsfda",
                       search="openfda.brand_name:Humira")
  
  # Search by application number
  nda_info = fda.query("drug", "drugsfda",
                      search="application_number:NDA021251")
  
  # Get approval history
  for submission in drug_info["results"][0]["submissions"]:
      print(f"{submission['submission_type']}: {submission['submission_status']}")
