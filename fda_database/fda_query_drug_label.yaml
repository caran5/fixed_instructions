name: fda_query_drug_label
description: |
  Query drug product labeling (Structured Product Labeling - SPL) from FDA.
  Access prescribing information, warnings, indications, usage instructions,
  and comprehensive drug information for FDA-approved and marketed products.
  Useful for clinical decision support, drug information lookup, patient education,
  formulary management, and drug comparison analysis.
  
  API Endpoint: https://api.fda.gov/drug/label.json
  
  Key data fields returned:
  - openfda.brand_name: Brand name(s) of the drug
  - openfda.generic_name: Generic name(s)
  - indications_and_usage: Approved uses
  - warnings: Important safety warnings
  - adverse_reactions: Known adverse reactions
  - dosage_and_administration: How to use the drug
  - description: Chemical and physical description
  - contraindications: When not to use the drug
  - drug_interactions: Known drug interactions
  - active_ingredient: Active ingredients

required_parameters:
  - name: drug_name
    type: string
    description: "Name of the drug to search for labeling information"

optional_parameters:
  - name: brand
    type: boolean
    description: "Search by brand name (True) or generic name (False)"
    default: true
  - name: limit
    type: integer
    description: "Maximum number of results to return"
    default: 1
  - name: api_key
    type: string
    description: "FDA API key for higher rate limits"

hardware_requirements:
  - "Internet connection required"
  - "No GPU required"
  - "Minimal RAM (< 1GB)"

time_complexity: "O(1) - API response typically < 5 seconds"

outputs:
  - name: results
    type: list
    description: "Array of drug labels matching the search criteria"
  - name: indications_and_usage
    type: string
    description: "Approved indications and usage instructions"
  - name: warnings
    type: string
    description: "Important safety warnings"
  - name: adverse_reactions
    type: string
    description: "Known adverse reactions"

failure_modes:
  - condition: "Drug not found"
    behavior: "Returns empty results array"
  - condition: "Multiple brands with same name"
    behavior: "Returns multiple results - filter by manufacturer"

example_usage: |
  from scripts.fda_query import FDAQuery
  
  fda = FDAQuery(api_key="YOUR_API_KEY")
  
  # Get labeling for Lipitor (brand name)
  label = fda.query_drug_label("Lipitor", brand=True)
  
  # Get labeling for atorvastatin (generic name)
  label = fda.query_drug_label("atorvastatin", brand=False)
  
  # Extract specific sections
  if "results" in label:
      drug_label = label["results"][0]
      indications = drug_label.get("indications_and_usage", ["N/A"])[0]
      warnings = drug_label.get("warnings", ["N/A"])[0]
