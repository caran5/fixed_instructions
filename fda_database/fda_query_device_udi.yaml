name: fda_query_device_udi
description: |
  Query the Unique Device Identification (UDI) database from FDA.
  Access device identification information including UDI, brand names,
  model numbers, and device characteristics. UDI is a system to uniquely
  identify medical devices through their distribution and use.
  
  API Endpoint: https://api.fda.gov/device/udi.json
  
  Key data fields returned:
  - identifiers.id: Device identifier (GTIN, HIBCC, etc.)
  - identifiers.type: Identifier type
  - brand_name: Brand name
  - version_model_number: Model or version number
  - device_description: Device description
  - company_name: Manufacturer name
  - is_rx: Whether device requires prescription
  - is_otc: Whether device is over-the-counter
  - is_labeled_as_nr: Whether labeled as not resupplied
  - is_labeled_as_no_nrl: Whether labeled as no natural rubber latex
  - mri_safety: MRI safety classification (MR Safe, MR Conditional, etc.)
  - device_count_in_base_package: Number of devices per package
  - gmdn_terms: Global Medical Device Nomenclature terms
  - product_codes: FDA product codes

required_parameters: []

optional_parameters:
  - name: udi
    type: string
    description: "Unique Device Identifier to look up"
  - name: brand_name
    type: string
    description: "Brand name to search"
  - name: company_name
    type: string
    description: "Manufacturer/company name"
  - name: product_code
    type: string
    description: "FDA product code"
  - name: is_rx
    type: boolean
    description: "Filter for prescription devices"
  - name: mri_safety
    type: string
    description: "MRI safety classification (MR Safe, MR Conditional, MR Unsafe)"
  - name: limit
    type: integer
    description: "Maximum number of results to return"
    default: 100
  - name: api_key
    type: string
    description: "FDA API key for higher rate limits"

hardware_requirements:
  - "Internet connection required"
  - "No GPU required"
  - "Minimal RAM (< 1GB)"

time_complexity: "O(1) - API response typically < 5 seconds"

outputs:
  - name: results
    type: list
    description: "Array of UDI records"
  - name: identifiers
    type: list
    description: "Device identifiers (GTIN, HIBCC, etc.)"
  - name: mri_safety
    type: string
    description: "MRI safety classification"

failure_modes:
  - condition: "UDI not found"
    behavior: "Returns empty results"
  - condition: "Invalid UDI format"
    behavior: "No results returned"

example_usage: |
  from scripts.fda_query import FDAQuery
  
  fda = FDAQuery(api_key="YOUR_API_KEY")
  
  # Look up device by UDI
  device = fda.query("device", "udi",
                    search="identifiers.id:00884838003019")
  
  # Search by brand name
  pumps = fda.query("device", "udi",
                   search="brand_name:*insulin+pump*",
                   limit=10)
  
  # Find prescription-only devices
  rx_devices = fda.query("device", "udi",
                        search="brand_name:*implant*+AND+is_rx:true")
  
  # Search for MRI safe devices
  mri_safe = fda.query("device", "udi",
                      search='mri_safety:"MR Safe"',
                      limit=50)
