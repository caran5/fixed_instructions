name: fda_query_food_recalls
description: |
  Query food recall enforcement reports from FDA.
  Access information about food recalls including allergen contamination,
  pathogen contamination (Listeria, Salmonella, E. coli), and other safety issues.
  Essential for food safety monitoring, supply chain management, and allergen tracking.
  
  API Endpoint: https://api.fda.gov/food/enforcement.json
  
  Key data fields returned:
  - recall_number: Unique recall identifier
  - classification: Recall class (I, II, or III)
  - reason_for_recall: Description of the issue
  - product_description: Description of recalled product
  - recalling_firm: Company issuing the recall
  - status: Recall status (Ongoing, Completed, Terminated)
  - distribution_pattern: Geographic distribution
  - product_quantity: Quantity of product recalled
  - voluntary_mandated: Whether recall was voluntary or mandated
  - initial_firm_notification: How firm was notified
  - report_date: Date of recall report

required_parameters: []

optional_parameters:
  - name: product
    type: string
    description: "Product name or description to search"
  - name: reason
    type: string
    description: "Reason for recall (e.g., 'undeclared peanut', 'listeria')"
  - name: classification
    type: string
    description: "Recall class to filter (I, II, or III)"
  - name: status
    type: string
    description: "Recall status filter (Ongoing, Completed)"
  - name: recalling_firm
    type: string
    description: "Company name to filter"
  - name: limit
    type: integer
    description: "Maximum number of results to return"
    default: 100
  - name: sort
    type: string
    description: "Sort field (e.g., 'report_date:desc')"
    default: "report_date:desc"
  - name: api_key
    type: string
    description: "FDA API key for higher rate limits"

hardware_requirements:
  - "Internet connection required"
  - "No GPU required"
  - "Minimal RAM (< 1GB)"

time_complexity: "O(1) - API response typically < 5 seconds"

outputs:
  - name: results
    type: list
    description: "Array of food recall enforcement reports"
  - name: classification
    type: string
    description: "Recall severity classification"
  - name: reason_for_recall
    type: string
    description: "Detailed reason for the recall"

failure_modes:
  - condition: "No matching recalls"
    behavior: "Returns empty results"
  - condition: "Invalid classification"
    behavior: "No results returned"

example_usage: |
  from scripts.fda_query import FDAQuery
  
  fda = FDAQuery(api_key="YOUR_API_KEY")
  
  # Monitor allergen recalls
  allergen_recalls = fda.query_food_recalls(reason="undeclared peanut")
  
  # Track pathogen contamination
  listeria = fda.query_food_recalls(reason="listeria", classification="I")
  
  # Search by product type
  ice_cream = fda.query_food_recalls(product="ice cream")
  
  # Get all Class I (most serious) recalls
  serious_recalls = fda.query("food", "enforcement",
                             search="classification:Class+I",
                             limit=50)
