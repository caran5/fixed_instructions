name: fda_query_device_enforcement
description: |
  Query device recall enforcement reports from FDA.
  Access information about device recalls including classification, reason,
  distribution patterns, and status. Similar to drug recalls but for medical devices.
  
  Recall Classifications:
  - Class I: Most serious - reasonable probability of serious adverse health consequences or death
  - Class II: May cause temporary or medically reversible adverse health consequences
  - Class III: Not likely to cause adverse health consequences
  
  API Endpoint: https://api.fda.gov/device/enforcement.json
  
  Key data fields returned:
  - recall_number: Unique recall identifier
  - classification: Recall class (I, II, or III)
  - reason_for_recall: Description of the issue
  - product_description: Description of recalled product
  - recalling_firm: Company issuing the recall
  - status: Recall status (Ongoing, Completed, Terminated)
  - distribution_pattern: Geographic distribution
  - code_info: Product codes and lot numbers
  - voluntary_mandated: Whether recall was voluntary or mandated

required_parameters: []

optional_parameters:
  - name: device_name
    type: string
    description: "Device name or description to search"
  - name: classification
    type: string
    description: "Recall class to filter (I, II, or III)"
  - name: recalling_firm
    type: string
    description: "Company name to filter recalls"
  - name: status
    type: string
    description: "Recall status filter (Ongoing, Completed)"
  - name: limit
    type: integer
    description: "Maximum number of results to return"
    default: 100
  - name: sort
    type: string
    description: "Sort field (e.g., 'report_date:desc')"
    default: "report_date:desc"
  - name: api_key
    type: string
    description: "FDA API key for higher rate limits"

hardware_requirements:
  - "Internet connection required"
  - "No GPU required"
  - "Minimal RAM (< 1GB)"

time_complexity: "O(1) - API response typically < 5 seconds"

outputs:
  - name: results
    type: list
    description: "Array of device recall enforcement reports"
  - name: classification
    type: string
    description: "Recall severity classification"
  - name: reason_for_recall
    type: string
    description: "Detailed reason for the recall"

failure_modes:
  - condition: "No matching recalls"
    behavior: "Returns empty results"
  - condition: "Invalid classification"
    behavior: "No results returned"

example_usage: |
  from scripts.fda_query import FDAQuery
  
  fda = FDAQuery(api_key="YOUR_API_KEY")
  
  # Find all Class I device recalls
  serious_recalls = fda.query("device", "enforcement",
                             search="classification:Class+I",
                             limit=20)
  
  # Search recalls by manufacturer
  philips_recalls = fda.query("device", "enforcement",
                             search="recalling_firm:*Philips*",
                             limit=50)
  
  # Search by device type
  pump_recalls = fda.query("device", "enforcement",
                          search="product_description:*insulin+pump*")
