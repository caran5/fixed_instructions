name: fda_query_device_pma
description: |
  Query Premarket Approval (PMA) data from FDA.
  Access information about Class III medical devices that have received PMA
  approval, the most stringent type of device marketing authorization.
  PMA is required for devices that support or sustain human life, are of
  substantial importance in preventing impairment of human health, or
  present a potential unreasonable risk of illness or injury.
  
  API Endpoint: https://api.fda.gov/device/pma.json
  
  Key data fields returned:
  - pma_number: PMA approval number
  - supplement_number: Supplement number if applicable
  - applicant: Company that submitted the PMA
  - decision_date: Date of FDA decision
  - decision_code: Decision code (APPR = Approved, etc.)
  - generic_name: Generic device name
  - trade_name: Trade/brand name
  - product_code: FDA product code
  - advisory_committee: FDA advisory committee
  - openfda.device_class: Device class

required_parameters: []

optional_parameters:
  - name: applicant
    type: string
    description: "Company name to search"
  - name: pma_number
    type: string
    description: "Specific PMA number to look up"
  - name: device_name
    type: string
    description: "Device name to search (generic or trade name)"
  - name: product_code
    type: string
    description: "FDA product code"
  - name: advisory_committee
    type: string
    description: "FDA advisory committee"
  - name: decision_date_start
    type: string
    description: "Start date for decision date range (YYYYMMDD)"
  - name: limit
    type: integer
    description: "Maximum number of results to return"
    default: 100
  - name: api_key
    type: string
    description: "FDA API key for higher rate limits"

hardware_requirements:
  - "Internet connection required"
  - "No GPU required"
  - "Minimal RAM (< 1GB)"

time_complexity: "O(1) - API response typically < 5 seconds"

outputs:
  - name: results
    type: list
    description: "Array of PMA approval records"
  - name: pma_number
    type: string
    description: "PMA approval number"
  - name: decision_code
    type: string
    description: "FDA decision code (APPR, etc.)"

failure_modes:
  - condition: "No matching approvals"
    behavior: "Returns empty results"
  - condition: "Invalid PMA number format"
    behavior: "No results returned"

example_usage: |
  from scripts.fda_query import FDAQuery
  
  fda = FDAQuery(api_key="YOUR_API_KEY")
  
  # Search by applicant
  medtronic_pmas = fda.query("device", "pma",
                            search="applicant:*Medtronic*",
                            limit=100)
  
  # Look up specific PMA
  pma_info = fda.query("device", "pma",
                      search="pma_number:P123456")
  
  # Search by device type
  heart_valves = fda.query("device", "pma",
                          search="generic_name:*heart+valve*")
  
  # Get recent approvals
  recent = fda.query("device", "pma",
                    search="decision_date:[20240101+TO+20241231]")
